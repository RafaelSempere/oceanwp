var $j=jQuery.noConflict();$j(document).on("ready",function(){if("undefined"==typeof oceanwpLocalize)return!1;var a=$j("#owp-qv-wrap"),b=$j("#owp-qv-content");$j(document).on("click",".owp-quick-view",function(c){c.preventDefault();var d=$j(this),e=$j(this).data("product_id");d.parent().addClass("loading"),$j.ajax({url:oceanwpLocalize.ajax_url,data:{action:"oceanwp_product_quick_view",product_id:e},success:function(c){var d=$j("html").innerWidth();$j("html").css("overflow","hidden");var e=$j("html").innerWidth();$j("html").css("margin-right",e-d),$j("html").addClass("owp-qv-open"),b.html(c),a.fadeIn(),a.addClass("is-visible");var f=b.find(".variations_form");f.trigger("check_variations"),f.trigger("reset_image");var g=b.find(".variations_form");g.length>0&&(g.wc_variation_form(),g.find("select").change());var h=b.find(".owp-qv-image");h.find("li").length>1&&h.flexslider();var i=b.find("form.grouped_form");if(i){var j=b.find("form.grouped_form").attr("action");i.find(".group_table, button.single_add_to_cart_button").hide(),i.append(' <a href="'+j+'" class="button">'+oceanwpLocalize.grouped_text+"</a>")}}}).done(function(){d.parent().removeClass("loading")})});var c=function(){$j("html").css({overflow:"","margin-right":""}),$j("html").removeClass("owp-qv-open"),a.fadeOut(),a.removeClass("is-visible"),setTimeout(function(){b.html("")},600)};$j(".owp-qv-overlay, .owp-qv-close").on("click",function(a){a.preventDefault(),c()}),$j(document).keyup(function(a){27==a.keyCode&&c()});var d=function(){$j(document.body).on("click","#owp-qv-content .product:not(.product-type-external) .single_add_to_cart_button",this.onAddToCart).on("added_to_cart",this.updateButton)};d.prototype.onAddToCart=function(a){a.preventDefault();var b=$j(this),c=$j(this).val(),d=$j('input[name="variation_id"]').val(),e=$j('input[name="quantity"]').val(),f=$j(this).closest(".variations_form"),g=f.find("select[name^=attribute]"),h={};b.removeClass("added"),b.addClass("loading"),g.length||(g=f.find("[name^=attribute]:checked")),g.length||(g=f.find("input[name^=attribute]")),g.each(function(){var a,b,c=$j(this),d=c.attr("name"),e=c.val();c.removeClass("error"),0===e.length?(a=d.lastIndexOf("_"),b=d.substring(a+1),c.addClass("required error").before("Please select "+b)):h[d]=e}),""!=d?$j.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:c,variation_id:d,variation:h,quantity:e},success:function(a){return $j(document.body).trigger("wc_fragment_refresh"),$j(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,b]),"yes"===wc_add_to_cart_params.cart_redirect_after_add?void(window.location=wc_add_to_cart_params.cart_url):void 0}}):$j.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:c,quantity:e},success:function(a){return $j(document.body).trigger("wc_fragment_refresh"),$j(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,b]),"yes"===oceanwpLocalize.cart_redirect_after_add?void(window.location=oceanwpLocalize.cart_url):void 0}})},d.prototype.updateButton=function(a,b,c,d){d="undefined"==typeof d?!1:d,d&&(d.removeClass("loading"),d.addClass("added"),oceanwpLocalize.is_cart||0!==d.parent().find(".added_to_cart").length||d.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new d});